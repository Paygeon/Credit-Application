<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Credit Application</title>

    <!-- Fonts -->
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">
        <!-- Styles -->
    <link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css?v=50">

<!-- form theme -->

<link href="//cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote-bs4.css?v=50" rel="stylesheet">
<link href="//cdn.jsdelivr.net/npm/toastr@2.1.4/build/toastr.min.css?v=50" rel="stylesheet">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css?v=50">
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/rangeslider.js/2.3.2/rangeslider.min.css?v=50">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/css/tempusdominus-bootstrap-4.min.css?v=50" />

<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/dropzone/5.5.1/min/dropzone.min.css?v=50">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.10/css/bootstrap-select.min.css?v=50"/>

<link href="//cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote-bs4.css?v=50" rel="stylesheet">

<!-- bootstrap star rating -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-star-rating/4.0.6/css/star-rating.min.css?v=50" media="all" rel="stylesheet" type="text/css" />
<!-- if you need to use a theme, then include the theme CSS file -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-star-rating/4.0.6/themes/krajee-svg/theme.css?v=50" media="all" rel="stylesheet" type="text/css" />

<link rel="stylesheet" type="text/css" href="https://paygeon.io/Form-Generator-V5.0/Form-Generator-CodeBase-V5.0/public/plugins/countdowntimer/countdowntimer.css?v=50">

<style type="text/css">
    .xs{
        font-size: 0.575rem !important;
    }
    .error {
        color:#a94442
    }

        /*custom css for switch*/
    .switch {
      font-size: 1rem;
      position: relative;
    }
    .switch input {
      position: absolute;
      height: 1px;
      width: 1px;
      background: none;
      border: 0;
      clip: rect(0 0 0 0);
      clip-path: inset(50%);
      overflow: hidden;
      padding: 0;
    }
    .switch input + label {
      position: relative;
      min-width: calc(calc(2.375rem * .8) * 2);
      border-radius: calc(2.375rem * .8);
      height: calc(2.375rem * .8);
      line-height: calc(2.375rem * .8);
      display: inline-block;
      cursor: pointer;
      outline: none;
      user-select: none;
      vertical-align: middle;
      text-indent: calc(calc(calc(2.375rem * .8) * 2) + .5rem);
    }
    .switch input + label::before,
    .switch input + label::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: calc(calc(2.375rem * .8) * 2);
      bottom: 0;
      display: block;
    }
    .switch input + label::before {
      right: 0;
      background-color: #dee2e6;
      border-radius: calc(2.375rem * .8);
      transition: 0.2s all;
    }
    .switch input + label::after {
      top: 2px;
      left: 2px;
      width: calc(calc(2.375rem * .8) - calc(2px * 2));
      height: calc(calc(2.375rem * .8) - calc(2px * 2));
      border-radius: 50%;
      background-color: white;
      transition: 0.2s all;
    }
    .switch input:checked + label::before {
      background-color: #08d;
    }
    .switch input:checked + label::after {
      margin-left: calc(2.375rem * .8);
    }
    .switch input:focus + label::before {
      outline: none;
      box-shadow: 0 0 0 0.2rem rgba(0, 136, 221, 0.25);
    }
    .switch input:disabled + label {
      color: #868e96;
      cursor: not-allowed;
    }
    .switch input:disabled + label::before {
      background-color: #e9ecef;
    }
    .switch.switch-sm {
      font-size: 0.875rem;
    }
    .switch.switch-sm input + label {
      min-width: calc(calc(1.9375rem * .8) * 2);
      height: calc(1.9375rem * .8);
      line-height: calc(1.9375rem * .8);
      text-indent: calc(calc(calc(1.9375rem * .8) * 2) + .5rem);
    }
    .switch.switch-sm input + label::before {
      width: calc(calc(1.9375rem * .8) * 2);
    }
    .switch.switch-sm input + label::after {
      width: calc(calc(1.9375rem * .8) - calc(2px * 2));
      height: calc(calc(1.9375rem * .8) - calc(2px * 2));
    }
    .switch.switch-sm input:checked + label::after {
      margin-left: calc(1.9375rem * .8);
    }
    .switch.switch-lg {
      font-size: 1.25rem;
    }
    .switch.switch-lg input + label {
      min-width: calc(calc(3rem * .8) * 2);
      height: calc(3rem * .8);
      line-height: calc(3rem * .8);
      text-indent: calc(calc(calc(3rem * .8) * 2) + .5rem);
    }
    .switch.switch-lg input + label::before {
      width: calc(calc(3rem * .8) * 2);
    }
    .switch.switch-lg input + label::after {
      width: calc(calc(3rem * .8) - calc(2px * 2));
      height: calc(calc(3rem * .8) - calc(2px * 2));
    }
    .switch.switch-lg input:checked + label::after {
      margin-left: calc(3rem * .8);
    }
    .switch + .switch {
      margin-left: 1rem;
    }

    .dropdown-menu {
      margin-top: .75rem;
    }
    .signature-pad {
      background: aliceblue;
    }
    .pointer{
      cursor: pointer;
    }
    /* Scrollbar design css*/
    ::-webkit-scrollbar-track
    {
        -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
        background-color: #F5F5F5;
    }

    ::-webkit-scrollbar
    {
        width: 6px;
        background-color: #F5F5F5;
        height: 6px;
    }

    ::-webkit-scrollbar-thumb
    {
        background-color: #9ca3af;
    }
</style>
<!-- Form additional css -->
<!-- Application additional css -->
</head>
<body>
    <div id="app">
        <main class="py-4">
            <div class="container">
                <div class="card">
                    <div class="card-body" style=" background-color: #ffffff; ">
                        <div class="row">
                            <div class="col-md-12">
                                <form id="4fbdf276-2173-4b20-842a-43da4894cdea" 
                                    action="./credit-application.php" >
                                    <div class="row">
                                <div class=" col-md-12  mt-25 mb-25">
                                    <div class="form-group mb-4 mt-3">
                        <label for="credit_limit_request">
                            <span style="color:#000000">
                                Credit Limit Requested
                            </span>
                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        <div class="row">
                            <div class="col-sm-1">25000</div>
                                <div class="col-sm-10">
                                    <input type="range" 
                                        name="fields[credit_limit_request]"
                                         required                                         data-msg-required="This field is required"
                                        id="credit_limit_request"
                                        min="25000"
                                        max="1000000"
                                        step="1"
                                        data-orientation="horizontal"
                                        >
                                </div>
                            <div class="col-sm-1">1000000</div>
                        </div>
                        <b><output class="credit_limit_request" style="display: block;text-align:center;" for="credit_limit_request"></output></b>
                                            </div>

                            </div>
                                <div class=" col-md-6  mt-25 mb-25">
                                    <div class="form-group">
                        <label for="phone">
                            <span style="color:#000000">
                                Phone Number
                            </span>

                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        <div class="input-group">

                            
                            <input type="number"
                                name="fields[phone]"
                                placeholder=""
                                class="form-control  "
                                id="phone"
                                                                    data-rule-phone = "1"
                                    data-msg-phone = ""
                                                                 required                                 data-msg-required="This field is required"
                                                                >

                                                            <div class="input-group-append">
                                    <span class="input-group-text">
                                        <i class="fas fa-phone"></i>
                                    </span>
                                </div>
                                                    </div>

                                            </div>
                            </div>
                                <div class=" col-md-6  mt-25 mb-25">
                                    <div class="form-group">
                        <label for="email">
                            <span style="color:#000000">
                                Email
                            </span>

                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        <div class="input-group">

                            
                            <input type="email"
                                name="fields[email]"
                                placeholder=""
                                class="form-control  "
                                id="email"
                                                                    data-rule-email = "1"
                                    data-msg-email = ""
                                                                 required                                 data-msg-required="This field is required"
                                                                >

                                                            <div class="input-group-append">
                                    <span class="input-group-text">
                                        <i class="fas fa-envelope"></i>
                                    </span>
                                </div>
                                                    </div>

                                            </div>
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                
                    <div class="">
                        <h4 style="color:#212529">Tell us a bit about your business!</h4>                    </div>
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                                    <div class="form-group">
                        <label for="business_name">
                            <span style="color:#000000">
                                Business Name
                            </span>

                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        <div class="input-group">

                            
                            <input type="text"
                                name="fields[business_name]"
                                placeholder=""
                                class="form-control  "
                                id="business_name"
                                                                 required                                 data-msg-required="This field is required"
                                                                >

                                                    </div>

                                            </div>
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                
                    <div class="form-group">
                        <label for="business_address">
                            <span style="color:#000000">
                                Business Address
                            </span>
                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        <div class="input-group">
                                                            <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <i class="fas fa-home"></i>
                                    </span>
                                </div>
                                                        <textarea
                                rows="3"
                                name="fields[business_address]"
                                cols=""
                                placeholder=""
                                class="form-control "
                                id="business_address"
                                                                 required                                 data-msg-required="This field is required"
                                                                ></textarea>
                                                    </div>
                                            </div>

                            </div>
                                <div class=" col-md-4  mt-25 mb-25">
                
                    <div class="form-group">
                        <label for="business_type">
                            <span style="color:#000000">Type of Business</span>
                                                            <span style="color:#a94442">*</span>
                                                    </label>

                        <div class="input-group">
                                                        <select class="custom-select  "  required  data-msg-required="This field is required" id="business_type"
                                                             name="fields[business_type]"
                                                                                     >
                                                                    <option>
                                        Select
                                    </option>
                                                                    <option>
                                        Corporation
                                    </option>
                                                                    <option>
                                        LLC
                                    </option>
                                                                    <option>
                                        Sole Proprietor
                                    </option>
                                                                    <option>
                                        Non-Profit
                                    </option>
                                                            </select>
                                                    </div>
                                            </div>
                            </div>
                                <div class=" col-md-4  mt-25 mb-25">
                                    <div class="form-group">
                        <label for="ein">
                            <span style="color:#000000">
                                EIN
                            </span>

                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        <div class="input-group">

                            
                            <input type="number"
                                name="fields[ein]"
                                placeholder=""
                                class="form-control  "
                                id="ein"
                                                                    data-rule-number = "1"
                                    data-msg-number = ""
                                                                 required                                 data-msg-required="This field is required"
                                                                >

                                                    </div>

                                            </div>
                            </div>
                                <div class=" col-md-4  mt-25 mb-25">
                                    <div class="form-group">
                        <label for="business_start_date">
                            <span style="color:#000000">
                                Business Start Date
                            </span>
                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        <div class="input-group date" id="business_start_date" data-target-input="nearest">
                                                            <input type="text"
                                    name="fields[business_start_date]"
                                    data-toggle="datetimepicker"
                                    id="business_start_date"
                                    class="form-control datetimepicker-input "
                                    readonly 
                                    data-target="#business_start_date"
                                     required                                     data-msg-required="This field is required"
                                                                    >
                                                            <div class="input-group-append">
                                    <span class="input-group-text" data-target="#business_start_date" data-toggle="datetimepicker">
                                        <i class="fas fa-calendar"></i>
                                    </span>
                                </div>
                                                    </div>
                                            </div>
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                
                    <div class="">
                        <h4 style="color:#4f54f8">Great! Please upload supporting business documents.</h4>                    </div>
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                
                    <div class="">
                        <p style="color:#212529">We will need a copy of your EIN letter and Articles of Incorporation/Organization</p>                    </div>
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                                    <div class="mb-2">
                        <label for="business_documents">
                            <span style="color:#000000">Upload all documents here (Scans preferred)</span>
                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        <div class="dropzone "
                            id="business_documents" ></div>
                        <input type="hidden" name="fields[business_documents][]" id="business_documents" value=""  required  data-msg-required="This field is required">
                                            </div>
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                                    <div  class="">
                        <fieldset>
     <legend><h3>IMPORTANT INFORMATION ABOUT PROCEDURES FOR OPENING A NEW ACCOUNT</h3></legend>
    <p> ‚ÄçTo help the government fight the funding of terrorism and money laundering  activities, Federal law requires all financial institutions to obtain, verify, and record information that identifies each person who opens an account. What this means for you: When you open an account, we will ask for your name,  address, date of birth, and other information that will allow us to identify you. We  may also ask to see your driver's license or other identifying documents.</p>
     </fieldset>
                    </div>
                            </div>
                                <div class=" col-md-3  mt-25 mb-25">
                                    <div class="form-group">
                        <label for="first_name">
                            <span style="color:#000000">
                                First Name
                            </span>

                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        <div class="input-group">

                            
                            <input type="text"
                                name="fields[first_name]"
                                placeholder=""
                                class="form-control  "
                                id="first_name"
                                                                 required                                 data-msg-required="This field is required"
                                                                >

                                                    </div>

                                            </div>
                            </div>
                                <div class=" col-md-3  mt-25 mb-25">
                                    <div class="form-group">
                        <label for="middle_name">
                            <span style="color:#000000">
                                Middle Name
                            </span>

                                                    </label>
                        <div class="input-group">

                            
                            <input type="text"
                                name="fields[middle_name]"
                                placeholder=""
                                class="form-control  "
                                id="middle_name"
                                                                                                data-msg-required="This field is required"
                                                                >

                                                    </div>

                                            </div>
                            </div>
                                <div class=" col-md-3  mt-25 mb-25">
                                    <div class="form-group">
                        <label for="last_name">
                            <span style="color:#000000">
                                Last Name
                            </span>

                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        <div class="input-group">

                            
                            <input type="text"
                                name="fields[last_name]"
                                placeholder=""
                                class="form-control  "
                                id="last_name"
                                                                 required                                 data-msg-required="This field is required"
                                                                >

                                                    </div>

                                            </div>
                            </div>
                                <div class=" col-md-3  mt-25 mb-25">
                                    <div class="form-group">
                        <label for="suffix">
                            <span style="color:#000000">
                                Suffix
                            </span>

                                                    </label>
                        <div class="input-group">

                            
                            <input type="text"
                                name="fields[suffix]"
                                placeholder=""
                                class="form-control  "
                                id="suffix"
                                                                                                data-msg-required="This field is required"
                                                                >

                                                    </div>

                                            </div>
                            </div>
                                <div class=" col-md-9  mt-25 mb-25">
                                    <div class="form-group">
                        <label for="title">
                            <span style="color:#000000">
                                Title
                            </span>

                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        <div class="input-group">

                            
                            <input type="text"
                                name="fields[title]"
                                placeholder=""
                                class="form-control  "
                                id="title"
                                                                 required                                 data-msg-required="This field is required"
                                                                >

                                                    </div>

                                            </div>
                            </div>
                                <div class=" col-md-3  mt-25 mb-25">
                                    <div class="form-group">
                        <label for="ownership">
                            <span style="color:#000000">
                                Ownership
                            </span>

                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        <div class="input-group">

                            
                            <input type="number"
                                name="fields[ownership]"
                                placeholder=""
                                class="form-control  "
                                id="ownership"
                                                                    data-rule-number = "1"
                                    data-msg-number = ""
                                                                 required                                 data-msg-required="This field is required"
                                                                >

                                                            <div class="input-group-append">
                                    <span class="input-group-text">
                                        <i class="fas fa-percent"></i>
                                    </span>
                                </div>
                                                    </div>

                                            </div>
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                
                    <div class="form-group">
                        <label for="home_address">
                            <span style="color:#000000">
                                Home Address
                            </span>
                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        <div class="input-group">
                                                            <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <i class="fas fa-home"></i>
                                    </span>
                                </div>
                                                        <textarea
                                rows="3"
                                name="fields[home_address]"
                                cols=""
                                placeholder=""
                                class="form-control "
                                id="home_address"
                                                                 required                                 data-msg-required="This field is required"
                                                                ></textarea>
                                                    </div>
                                            </div>

                            </div>
                                <div class=" col-md-6  mt-25 mb-25">
                                    <div class="form-group">
                        <label for="ssn">
                            <span style="color:#000000">
                                SSN
                            </span>

                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        <div class="input-group">

                            
                            <input type="number"
                                name="fields[ssn]"
                                placeholder=""
                                class="form-control  "
                                id="ssn"
                                                                 required                                 data-msg-required="This field is required"
                                                                >

                                                            <div class="input-group-append">
                                    <span class="input-group-text">
                                        <i class="fas fa-shield-alt"></i>
                                    </span>
                                </div>
                                                    </div>

                                            </div>
                            </div>
                                <div class=" col-md-6  mt-25 mb-25">
                                    <div class="form-group">
                        <label for="dob">
                            <span style="color:#000000">
                                DOB
                            </span>
                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        <div class="input-group date" id="dob" data-target-input="nearest">
                                                            <input type="text"
                                    name="fields[dob]"
                                    data-toggle="datetimepicker"
                                    id="dob"
                                    class="form-control datetimepicker-input "
                                    readonly 
                                    data-target="#dob"
                                     required                                     data-msg-required="This field is required"
                                                                    >
                                                            <div class="input-group-append">
                                    <span class="input-group-text" data-target="#dob" data-toggle="datetimepicker">
                                        <i class="fas fa-calendar"></i>
                                    </span>
                                </div>
                                                    </div>
                                            </div>
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                
                    <div class="">
                        <h4 style="color:#4542ff">Upload Documents</h4>                    </div>
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                
                    <div class="">
                        <p style="color:#212529">Please upload your SSN Card & the front & back of your Drivers License</p>                    </div>
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                                    <div class="mb-2">
                        <label for="persona">
                            <span style="color:#000000">Upload</span>
                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        <div class="dropzone "
                            id="persona" ></div>
                        <input type="hidden" name="fields[persona][]" id="persona" value=""  required  data-msg-required="This field is required">
                                            </div>
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                
                    <div class="">
                        <h4 style="color:#5863fe">Almost Done! Easy, right?</h4>                    </div>
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                
                    <div class="">
                        <p style="color:#212529">Last thing to do is accept the terms below and click "submit" to automatically be redirected to Plaids secure site to verify your identity and link your business bank accounts.</p>                    </div>
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                                    <label for="term_sheet">
                        <span style="color:#000000">Line of Credit Terms</span>
                                            </label>
                    <div class="col-md-12">
                        <iframe src="https://paygeon.io/Form-Generator-V5.0/Form-Generator-CodeBase-V5.0/public/uploads/form/1698771631_Paygeon Term Sheet.pdf"
                            id="term_sheet"
                            name="Line of Credit Terms"
                            title="Line of Credit Terms"
                            class="" 
                            width="100%"
                            height="350"
                            frameborder="0"
                            style="max-width: 100%;"
                            >
                        </iframe>
                    </div>
                            </div>
                                <div class=" col-md-12  mt-25 mb-25">
                                    <div class="form-group">
                        <label for="field_36">
                            <span style="color:#000000">Terms &amp; Conditions</span>
                                                            <span style="color:#a94442">*</span>
                                                    </label>
                        
                                                    <div class="custom-control  custom-checkbox ">
                                <input class="custom-control-input" 
                                    type="checkbox" 
                                    value="By submitting this application, I certify that I have read, met, and agreed to all of the terms, conditions, and disclosures as outlined below, which contain fee and other important cost information. I certify that I am an Authorizing Officer of the Company, and have provided current, complete and accurate information. I understand that additional information may be required to complete my application."
                                    name="fields[field_36][]"
                                    id="field_36_0"
                                                                                                                required
                                                                        data-msg-required="This field is required"
                                                                        >
                                <label class="custom-control-label" for="field_36_0">
                                    By submitting this application, I certify that I have read, met, and agreed to all of the terms, conditions, and disclosures as outlined below, which contain fee and other important cost information. I certify that I am an Authorizing Officer of the Company, and have provided current, complete and accurate information. I understand that additional information may be required to complete my application.
                                </label>
                            </div>
                        
                                            </div>

                            </div>
            </div>

                                    
                                                                        <button type="submit" class="btn mt-5 float-right  btn-primary"
                                        data-btn_loading="Submitting..."
                                        data-btn_text="Submit">
                                                                                Submit
                                                                            </button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- reCaptcha -->
<script src="//www.google.com/recaptcha/api.js?v=50" async defer></script>

<script type="text/javascript">
    if(typeof jQuery == 'undefined'){
        document.write('<script src="//code.jquery.com/jquery-3.4.1.min.js?v=50"></'+'script>');
    }
</script>

<!-- Bootstrap Js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js?v=50"></script>

<script src="//stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js?v=50"></script>

<script type="text/javascript" src="//cdn.jsdelivr.net/npm/moment@2.24.0/moment.min.js?v=50"></script>
<script src="//cdn.jsdelivr.net/npm/toastr@2.1.4/build/toastr.min.js?v=50"></script>
<script src="//cdn.jsdelivr.net/npm/jquery-validation@1.17.0/dist/jquery.validate.min.js?v=50"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/rangeslider.js/2.3.2/rangeslider.min.js?v=50"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.1.2/js/tempusdominus-bootstrap-4.min.js?v=50"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/dropzone/5.5.1/min/dropzone.min.js?v=50"></script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.10/js/bootstrap-select.min.js?v=50"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/summernote/0.8.12/summernote-bs4.min.js?v=50"></script>

<!-- Boostrap star rating -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-star-rating/4.0.6/js/star-rating.min.js?v=50" type="text/javascript"></script>
<!-- if you need to use a theme, then include the theme Js file -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-star-rating/4.0.6/themes/krajee-svg/theme.js?v=50"></script>
<!-- optionally if you need translation for your language then include locale file as mentioned below -->
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-star-rating/4.0.6/js/locales/<lang>.js"></script> -->
<!-- signature pad (https://github.com/szimek/signature_pad)-->
<script src="https://cdn.jsdelivr.net/npm/signature_pad@2.3.2/dist/signature_pad.min.js?v=50"></script>

<script src="https://paygeon.io/Form-Generator-V5.0/Form-Generator-CodeBase-V5.0/public/plugins/countdowntimer/countdowntimer.min.js?v=50"></script>


<script type="text/javascript">

    jQuery.validator.setDefaults({
        errorPlacement: function(error, element) {
            if (element.hasClass('select2') && element.parent().hasClass('input-group')) {
                error.insertAfter(element.parent());
            } else if (element.hasClass('select2')) {
                error.insertAfter(element.next('span.select2-container'));
            } else if (element.parent().hasClass('input-group')) {
                error.insertAfter(element.parent());
            } else if (element.parent().hasClass('multi-input')) {
                error.insertAfter(element.closest('.multi-input'));
            } else if(element.hasClass('summer_note')){
                error.insertAfter(element.next('.note-editor'));
            } else if(element.hasClass('custom-control-input')) {
                error.insertAfter(element.parent().parent().parent());
            } else if(element.hasClass('star_rating')) {
                error.insertAfter(element.parent().parent());
            } else if (element.hasClass('switch')) {
                error.insertAfter(element.parent().parent());
            } else if (element.hasClass('signature')) {
                error.insertAfter(element.parent());
            } else {
                error.insertAfter(element);
            }
        },
        invalidHandler: function() {
            toastr.error("Some error in input field, Please check and submit again");
        }
    });
    
    $(document).ready(function(){
            });

    function initialize_datetimepicker(element_name, start_date, end_date, date_format, time_format, disabled_days, enable_time_picker, time_picker_inline){
        var start = null;
        var end = null;
        var format = '';
        var display_time = null;
        var disabled_week_days = '';
        var side_by_side = time_picker_inline;

        if (disabled_days.length > 0) {
            disabled_week_days = disabled_days.join(',');
        }
        //format
        if (date_format != null) {
            format = date_format.toUpperCase();
        }

        if (enable_time_picker) {
            display_time = 'hh:mm A';
            if (time_format == '24') {
                display_time = 'HH:mm';
            }
            format += ' ' + display_time;
        }

        // start date
        if (start_date == 'none') {
            start = false;
        } else if (start_date == 'today') {
            start = moment();
        } else if (start_date == 'current_year') {
            start = moment().startOf('year');
        } else if (start_date == 'current_month') {
            start = moment().startOf('month');
        }
        //end date
        if (end_date == 'none') {
            end = false;
        } else if (end_date == 'today') {
            end = moment().add(0, 'd');
        } else if (end_date == 'current_year') {
            end = moment().endOf('year');
        } else if (end_date == 'current_month') {
            end = moment().endOf('month');
        }

        $('#'+element_name).datetimepicker({
            icons: {
                time: 'far fa-clock',
            },
            format: format,
            minDate: start,
            maxDate: end,
            daysOfWeekDisabled: [disabled_week_days],
            showClear: true,
            ignoreReadonly: true,
            sideBySide: side_by_side,
            defaultDate: $("input#"+element_name).data("defaultdate")
        });
    }

    function initialize_rangeslider(element_name) {
        $('#'+element_name).rangeslider({
            polyfill: false,
            //Callback function
            onInit: function() {
            },
            // Callback function
            onSlide: function(position, value) {
                $('.'+element_name).text(value);
            },
        });
    }
    
    Dropzone.autoDiscover = false;
    function initialize_dropzone(element_name, file_upload_msg, no_of_files_can_be_uploaded, max_file_size, allowed_file_type, url = null) {
        
        var file_remove_url = "library/delete_file.php";
        if (url == null) {
            url = "https://paygeon.io/Form-Generator-V5.0/Form-Generator-CodeBase-V5.0/public/file-upload";
            file_remove_url = "https://paygeon.io/Form-Generator-V5.0/Form-Generator-CodeBase-V5.0/public/file-delete";
        }

        var file_names = [];

        if ($('input#'+element_name).val().length > 0) {
            file_names.push($('input#'+element_name).val());
        }

        $('#'+element_name).dropzone({
            paramName: "file",
            addRemoveLinks: true,
            url: url,
            maxFilesize: max_file_size,
            dictDefaultMessage: file_upload_msg,
            maxFiles: no_of_files_can_be_uploaded,
            headers: {
                        'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                    },
            acceptedFiles: allowed_file_type,
            init: function() {
                //function to be use on editing a form, to display existing files
                if ($('input#'+element_name).val().length > 0) {
                    window[`${element_name}_myDropzone`] = this;
                    var file_obj = { files : $('input#'+element_name).val()};
                    $.ajax({
                        method: "GET",
                        url: '/existing-file-display',
                        dataType: "json",
                        data: file_obj,
                        success: function(result){
                            if (result.success) {
                                $.each(result.files, function(key,file) {
                                    var mockFile = { name: file.name, uploaded_as: file.uploaded_as, size: file.size};
                                    window[`${element_name}_myDropzone`].emit("addedfile", mockFile);
                                    window[`${element_name}_myDropzone`].emit("thumbnail", mockFile, file.path);
                                    window[`${element_name}_myDropzone`].emit("complete", mockFile);
                                });
                            }
                        }
                    });
                }

                //function to be use on removeing a file
                this.on("removedfile", function(file) {
                    $.ajax({
                        url: file_remove_url,
                        data: { "file_name": file.uploaded_as },
                        type: "POST",
                        success: function(result) {
                            if (typeof(result) == 'string') {
                                var result = JSON.parse(result);
                            }

                            if(result.success == 1){
                                toastr.success(result.msg);
                                var index = file_names.indexOf(file.uploaded_as);
                    
                                if(index!=-1){
                                   file_names.splice(index, 1);
                                }
                                
                                var elementVal = $('input#'+element_name).val();
                                var oldVal = elementVal.split(",");

                                index = oldVal.indexOf(file.uploaded_as);

                                if(index!=-1){
                                   oldVal.splice(index, 1);
                                }

                                var newVal = oldVal.join(",");
                                $('input#'+element_name).val(newVal);
                            } else {
                                toastr.error(result.msg);
                            }
                        }
                    });
                });
            },
            success:function(file, response) {
                if (typeof(response) == 'string') {
                    var response = JSON.parse(response);
                }
                if (response.success == true) {
                    toastr.success(response.msg);
                    file_names.push(response.path);
                    file.uploaded_as = response.path;
                    $('input#'+element_name).val(file_names); //store file_names
                } else {
                    toastr.error(response.msg);
                }
            }
        });
    }

    function initialize_text_editor(element_name, placeholder, height) {
        
        $('#'+element_name).summernote({
            placeholder: placeholder,
            height: height
        });
    }   

    function initialize_star_rating(element_name)  {
        $("#"+element_name).rating({
            theme: 'krajee-fas',
            filledStar: '<i class="fas fa-star"></i>',
            emptyStar: '<i class="fas fa-star"></i>'
        });
    }

    function initialize_datetimepicker_for_form_scheduling() {

        $('div#start_date_time').datetimepicker({
            icons: {
                time: 'far fa-clock',
            },
            format: 'YYYY-MM-DD hh:mm A',
            minDate: moment(),
            showClear: true,
            ignoreReadonly: true
        });

        $('div#end_date_time').datetimepicker({
            icons: {
                time: 'far fa-clock',
            },
            format: 'YYYY-MM-DD hh:mm A',
            minDate: moment(),
            showClear: true,
            ignoreReadonly: true
        });
    }

    function initialize_signature_pad(element) {
        var signaturePad = element;
        var canvas = document.getElementById(element);
        signaturePad = new SignaturePad(canvas, {
            onEnd: function(event) {                
                var element = $(this)[0]._canvas.id
                var signature = $(this)[0].toDataURL();
                $('#output_'+element).val(signature);
            }
        });
        
        if ($('#output_'+element).val().length > 0) {

            signaturePad.fromDataURL($('#output_'+element).val());
        }
        
        $(document).on('click', '#clear_'+element, function() {
           signaturePad.clear();
           $('#output_'+$(this).data('name')).val('');
        });

        $(document).on('click', '#undo_'+element, function() {
           var data = signaturePad.toData();
            if (data) {
                data.pop(); // remove the last dot or line
                signaturePad.fromData(data); //draw signature from array of data
                if (data.length > 0) {
                    var signature = signaturePad.toDataURL();
                    $('#output_'+$(this).data('name')).val(signature);
                } else {
                    $('#output_'+$(this).data('name')).val('');
                }
            }
        });
    }

    function initializeToastrSettingsForForm (position) {
        var toastr_position = 'toast-top-right';
        if (position) {
            toastr_position = position;
        }
        toastr.options = {
          "positionClass": toastr_position
        }
    }

    function initialize_countdowntimer(element) {
        $("#"+element.name).countdowntimer({
            hours: element.hours,
            minutes: element.minutes,
            seconds: element.seconds,
            size : element.size,
            labelsFormat : element.labels_format,
            borderColor : element.border_color,
            fontColor: element.font_color,
            backgroundColor : element.bg_color,
            timeSeparator: element.time_separator,
            displayFormat: element.display_format
        });
    }
</script>
<!-- Application additional js -->

    <script type="text/javascript">
        $(document).ready(function(){

                                                                        initialize_rangeslider('credit_limit_request');
                                                                                                                                                                                                                                                                                                                                                                                
                        initialize_datetimepicker('business_start_date', 'none', 'none', 'MM-DD-YYYY', '12', [], false, false);
                                                                                                                                                                                            initialize_dropzone('business_documents', 'Drop a file here', '2', '10', '', 'library/upload.php');
                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                        initialize_datetimepicker('dob', 'none', 'none', 'MM-DD-YYYY', '12', [], false, false);
                                                                                                                                                                                            initialize_dropzone('persona', 'Drop a file here', '3', '10', '', 'library/upload.php');
                                                                                                                                                                                                                        
                                initializeToastrSettingsForForm("toast-top-right");
            
            $('form#4fbdf276-2173-4b20-842a-43da4894cdea').validate({
                ignore: ".note-editor *",
                submitHandler: function(form, e) {
                    e.preventDefault();

                    var form_data = $('form#4fbdf276-2173-4b20-842a-43da4894cdea').serialize();
                    
                    var form_submit_btn = $(form).find('button[type="submit"]');
                    form_submit_btn.attr('disabled', 'disabled');
                    form_submit_btn.text(form_submit_btn.data('btn_loading'));
                    var dropzoneCount = $('.dropzone').length;
                    var textEditor = $('.summer_note').length;
                    $.ajax({
                        method: 'POST',
                        url: $(form).attr('action'),
                        dataType: 'json',
                        data: form_data,
                        success: function(result) {
                            form_submit_btn.text(form_submit_btn.data('btn_text'));
                            form_submit_btn.removeAttr('disabled', 'disabled');

                            $(form)[0].reset();
                            
                            window.onbeforeunload = null;

                            if(result.success == 1){
                                if(result.redirect == 1){
                                    window.location = result.url;
                                } else {
                                    toastr.success(result.msg);
                                    if (textEditor > 0) {
                                        $('.summer_note').each(function(){
                                            $(this).summernote("code", "");
                                        });
                                    }
                                    if (dropzoneCount > 0) {
                                        setTimeout(() => {
                                            location.reload();
                                        }, 2000);
                                    }
                                }
                            } else {
                                toastr.error(result.msg);
                            }
                        },
                    });
                }
            });

            //show aleart before page reloading
            var form_obj = $('form#4fbdf276-2173-4b20-842a-43da4894cdea');
            var orig_forn_data = form_obj.serialize();
            window.onbeforeunload = function() {
                if($('form#4fbdf276-2173-4b20-842a-43da4894cdea').length == 1){
                    if (form_obj.serialize() != orig_forn_data) {
                        return 'Are you sure?';
                    }
                }
            }
        });
    </script>
    <!-- Form additional JS -->
    </body>
</html>